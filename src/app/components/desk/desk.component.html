<nym-navbar></nym-navbar>
<div
    class="card"
    *ngFor="let card of taskCards; let i = index"
    [style.position]="'absolute'"
    [style.width]="cardWidth + 'px'"
    [style.top]="card.top"
    [style.left]="card.left"
    [style.zIndex]="card.zIndex ? card.zIndex : ''"
    [style.opacity]="card.opacity ? card.opacity : 1"
    [id]="'id' + card._id"
>
    <div class="card-header">
        <div class="input-group">
            <input
                type="text"
                class="form-control-plaintext"
                [value]="card.name"
            />
            <div class="input-group-append">
                <span
                    class="input-group-text connection-button"
                    [class.connection-button--pressed]="card.isButtonPressed"
                    (click)="onConnectClick(i)"
                    >⇿</span
                >
            </div>
            <div class="input-group-append">
                <span
                    class="input-group-text drag-button"
                    (mousedown)="onMouseDown($event, i)"
                    >⤲</span
                >
            </div>
        </div>
    </div>
    <nym-task [tasks]="card.tasks"></nym-task>
    <div class="card-body">
        <nym-add-line (addLine)="addLine($event, i)"></nym-add-line>
    </div>
</div>
<nym-line-draw
    (deleteLine)="onDeleteLine($event)"
    [style.opacity]="isDragginNow ? 0 : 1"
    [connectedTaskCards]="connectedTaskCards"
></nym-line-draw>
